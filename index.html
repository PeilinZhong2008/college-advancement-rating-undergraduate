<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Pentagon Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .form-section {
            margin-bottom: 25px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }
        
        .form-section:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.1);
        }
        
        .section-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 15px;
            font-weight: bold;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .help-text {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .language-selector {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .language-selector select {
            flex: 1;
            min-width: 150px;
        }
        
        .language-selector input {
            flex: 1;
            min-width: 100px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .results {
            margin-top: 40px;
            text-align: center;
            display: none;
        }
        
        .pentagon-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 30px auto;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            border: 2px solid #ddd;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        .stats-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            border: 2px solid #e0e0e0;
            text-align: left;
        }
        
        .stat-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .stat-value {
            color: #667eea;
            font-size: 1.1em;
            font-weight: bold;
        }
        
        .rating {
            font-size: 1.5em;
            font-weight: bold;
            color: #764ba2;
            margin: 20px 0;
        }
        
        .optional {
            color: #999;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Academic Pentagon Analysis System</h1>
        
        <form id="scoringForm">
            <div class="form-section">
                <div class="input-group">
                    <label for="studentName">Student Name:</label>
                    <input type="text" id="studentName" name="studentName" placeholder="Enter your name" required>
                </div>
            </div>

            <!-- Standardized Test Score -->
            <div class="form-section">
                <div class="section-title">1. Standardized Test Score Academic</div>
                
                <div class="input-group">
                    <label for="languageTest">Language Test <span class="optional">(Optional if American)</span>:</label>
                    <div class="help-text">
                        TOEFL: 0(0) 75(1) 90(2) 100(3) 105(4) 110(5) 115(6) 120(6.5)<br>
                        IELTS: 0(0) 5.5(1) 6.0(2) 6.5(3) 7.0(4) 7.5(5) 8.0(6) 8.5+(6.5)<br>
                        DET: 0(0) 85(1) 100(2) 115(3) 125(4) 135(5) 145(6) 155+(6.5)
                    </div>
                    <div class="language-selector">
                        <select id="languageTestType">
                            <option value="">Select Test Type</option>
                            <option value="toefl">TOEFL IBT</option>
                            <option value="ielts">IELTS</option>
                            <option value="det">Duolingo English Test</option>
                            <option value="toefl-essentials">TOEFL Essentials</option>
                        </select>
                        <input type="number" id="languageScore" placeholder="Score" min="0">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="satScore">SAT Score <span class="optional">(Optional)</span>:</label>
                    <div class="help-text">
                        SAT: 400(0) 1200(1) 1350(2) 1400(3) 1450(4) 1500(5) 1550(6) 1600(6.5)
                    </div>
                    <input type="number" id="satScore" placeholder="SAT Score (400-1600)" min="400" max="1600">
                </div>
            </div>

            <!-- Academic -->
            <div class="form-section">
                <div class="section-title">2. Academic Performance</div>
                
                <div class="input-group">
                    <label for="apScore">AP Scores:</label>
                    <div class="help-text">
                        Count your 5-rated AP exams: 5×5(5) 10×5(6) 15×5(6.5) 20×5(7)
                    </div>
                    <input type="number" id="apScore" placeholder="Number of AP 5s" min="0">
                </div>
                
                <div class="input-group">
                    <label for="gpaType">GPA Type:</label>
                    <select id="gpaType">
                        <option value="4.0">4.0 Scale</option>
                        <option value="4.33">4.33 Scale</option>
                        <option value="ib">IB Score (out of 45)</option>
                        <option value="100">100 Scale</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="gpaScore">GPA/Grade:</label>
                    <div class="help-text">
                        4.0 Scale: 3.3(3) 3.6(4) 4.0(5) 4.3+(6)<br>
                        IB: 42+(6) 45/45(7)
                    </div>
                    <input type="number" id="gpaScore" placeholder="Your GPA/Grade" step="0.01" min="0">
                </div>
            </div>

            <!-- Extracurriculars -->
            <div class="form-section">
                <div class="section-title">3. Extracurricular Activities</div>
                
                <div class="input-group">
                    <label for="researchScore">Research & Publications:</label>
                    <div class="help-text">
                        Published Paper(3) Numerous/Decent Papers(4) Very Decent Research(5) 
                        Numerous Very Decent Papers(6) Significant Achievement(7-9) Very Significant(10-20)
                    </div>
                    <input type="number" id="researchScore" placeholder="Research score (0-20)" min="0" max="20">
                </div>
                
                <div class="input-group">
                    <label for="awardScore">Awards & Competitions:</label>
                    <div class="help-text">
                        Regional Award(3-5) State Award(4-6) National Award(5-7) 
                        Top National Award(6-10) International Award(7-15) Significant Award(10-20)
                    </div>
                    <input type="number" id="awardScore" placeholder="Award score (0-20)" min="0" max="20">
                </div>
            </div>

            <!-- Sports -->
            <div class="form-section">
                <div class="section-title">4. Sports & Athletics</div>
                
                <div class="input-group">
                    <label for="sportsScore">Sports Achievement:</label>
                    <div class="help-text">
                        Recreational(1-2) School Team Member(2-3) Varsity Team(3-4) Team Captain/MVP(4-5) 
                        Regional Competition(5-6) Student Athlete Recruit(6-10) State/National Level(10-15) Sports Star(15-20)
                    </div>
                    <input type="number" id="sportsScore" placeholder="Sports score (0-20)" min="0" max="20">
                </div>
            </div>

            <!-- Social Activities -->
            <div class="form-section">
                <div class="section-title">5. Social Activities & Leadership</div>
                
                <div class="input-group">
                    <label for="volunteerScore">Volunteer Service:</label>
                    <div class="help-text">
                        Basic Volunteer(1-2) Regular Volunteer(2-3) Leadership Role(3-4) 
                        Organizer(4-5) Community Impact(5-6) Significant Impact(6-10) 
                        World-Changing Impact(10-20)
                    </div>
                    <input type="number" id="volunteerScore" placeholder="Volunteer score (0-20)" min="0" max="20">
                </div>
                
                <div class="input-group">
                    <label for="leadershipScore">Leadership & Social Influence:</label>
                    <div class="help-text">
                        Club Member(1-2) Officer(2-3) President/Founder(3-4) 
                        Multi-Club Leader(4-5) School-wide Influence(5-6) 
                        Community Influence(6-10) Significant Social Impact(10-20)
                    </div>
                    <input type="number" id="leadershipScore" placeholder="Leadership score (0-20)" min="0" max="20">
                </div>
            </div>

            <button type="submit" class="submit-btn">Generate Pentagon Analysis</button>
        </form>

        <div id="results" class="results">
            <h2 id="analysisTitle">xxx's Pentagon Analysis Graph</h2>
            <div class="pentagon-container">
                <canvas id="pentagonCanvas" width="400" height="400"></canvas>
            </div>
            <div class="legend" id="legend"></div>
            <div class="rating" id="rating">Rating: 0.00%</div>
            <div class="stats-summary" id="statsSummary"></div>
        </div>
    </div>

    <script>
        document.getElementById('scoringForm').addEventListener('submit', function(e) {
            e.preventDefault();
            calculateAndDisplayResults();
        });

        function calculateStandardizedScore() {
            const languageType = document.getElementById('languageTestType').value;
            const languageScore = parseFloat(document.getElementById('languageScore').value) || 0;
            const satScore = parseFloat(document.getElementById('satScore').value) || 0;
            
            let languagePoints = 0;
            let satPoints = 0;
            let languageDisplay = '';
            
            if (languageType && languageScore > 0) {
                switch(languageType) {
                    case 'toefl':
                        if (languageScore >= 120) languagePoints = 6.5;
                        else if (languageScore >= 115) languagePoints = 6;
                        else if (languageScore >= 110) languagePoints = 5;
                        else if (languageScore >= 105) languagePoints = 4;
                        else if (languageScore >= 100) languagePoints = 3;
                        else if (languageScore >= 90) languagePoints = 2;
                        else if (languageScore >= 75) languagePoints = 1;
                        languageDisplay = `TOEFL Score: ${languageScore} (${languagePoints})`;
                        break;
                    case 'ielts':
                        if (languageScore >= 8.5) languagePoints = 6.5;
                        else if (languageScore >= 8.0) languagePoints = 6;
                        else if (languageScore >= 7.5) languagePoints = 5;
                        else if (languageScore >= 7.0) languagePoints = 4;
                        else if (languageScore >= 6.5) languagePoints = 3;
                        else if (languageScore >= 6.0) languagePoints = 2;
                        else if (languageScore >= 5.5) languagePoints = 1;
                        languageDisplay = `IELTS Score: ${languageScore} (${languagePoints})`;
                        break;
                    case 'det':
                        if (languageScore >= 155) languagePoints = 6.5;
                        else if (languageScore >= 145) languagePoints = 6;
                        else if (languageScore >= 135) languagePoints = 5;
                        else if (languageScore >= 125) languagePoints = 4;
                        else if (languageScore >= 115) languagePoints = 3;
                        else if (languageScore >= 100) languagePoints = 2;
                        else if (languageScore >= 85) languagePoints = 1;
                        languageDisplay = `DET Score: ${languageScore} (${languagePoints})`;
                        break;
                }
            }
            
            if (satScore > 0) {
                if (satScore >= 1600) satPoints = 6.5;
                else if (satScore >= 1550) satPoints = 6;
                else if (satScore >= 1500) satPoints = 5;
                else if (satScore >= 1450) satPoints = 4;
                else if (satScore >= 1400) satPoints = 3;
                else if (satScore >= 1350) satPoints = 2;
                else if (satScore >= 1200) satPoints = 1;
            }
            
            let finalScore = Math.max(languagePoints, satPoints);
            let academicScore = calculateAcademicScore();
            
            if (finalScore === 0) {
                finalScore = academicScore;
            } else if (Math.abs(finalScore - academicScore) > 1) {
                finalScore = Math.max(finalScore, academicScore) - Math.abs(finalScore - academicScore);
            }
            
            return {
                score: Math.max(0, finalScore),
                display: languageDisplay || (satScore > 0 ? `SAT Score: ${satScore} (${satPoints})` : 'No standardized test')
            };
        }

        function calculateAcademicScore() {
            const apScore = parseFloat(document.getElementById('apScore').value) || 0;
            const gpaType = document.getElementById('gpaType').value;
            const gpaScore = parseFloat(document.getElementById('gpaScore').value) || 0;
            
            let apPoints = 0;
            if (apScore >= 20) apPoints = 7;
            else if (apScore >= 15) apPoints = 6.5;
            else if (apScore >= 10) apPoints = 6;
            else if (apScore >= 5) apPoints = 5;
            else if (apScore >= 1) apPoints = Math.min(apScore, 4);
            
            let gpaPoints = 0;
            switch(gpaType) {
                case '4.0':
                    if (gpaScore >= 4.3) gpaPoints = 6;
                    else if (gpaScore >= 4.0) gpaPoints = 5;
                    else if (gpaScore >= 3.6) gpaPoints = 4;
                    else if (gpaScore >= 3.3) gpaPoints = 3;
                    else if (gpaScore >= 3.0) gpaPoints = 2;
                    else if (gpaScore >= 2.5) gpaPoints = 1;
                    break;
                case '4.33':
                    if (gpaScore >= 4.33) gpaPoints = 6;
                    else if (gpaScore >= 4.0) gpaPoints = 5;
                    else if (gpaScore >= 3.6) gpaPoints = 4;
                    else if (gpaScore >= 3.3) gpaPoints = 3;
                    break;
                case 'ib':
                    if (gpaScore >= 45) gpaPoints = 7;
                    else if (gpaScore >= 42) gpaPoints = 6;
                    else if (gpaScore >= 38) gpaPoints = 5;
                    else if (gpaScore >= 35) gpaPoints = 4;
                    break;
                case '100':
                    if (gpaScore >= 95) gpaPoints = 6;
                    else if (gpaScore >= 90) gpaPoints = 5;
                    else if (gpaScore >= 85) gpaPoints = 4;
                    else if (gpaScore >= 80) gpaPoints = 3;
                    break;
            }
            
            if (apPoints === gpaPoints && apPoints > 0) {
                return apPoints + 1;
            } else if (Math.abs(apPoints - gpaPoints) > 1) {
                return Math.max(apPoints, gpaPoints) - Math.abs(apPoints - gpaPoints);
            }
            
            return Math.max(apPoints, gpaPoints);
        }

        function calculateExtracurricularScore() {
            const researchScore = parseFloat(document.getElementById('researchScore').value) || 0;
            const awardScore = parseFloat(document.getElementById('awardScore').value) || 0;
            
            let finalScore = Math.max(researchScore, awardScore);
            if (researchScore === awardScore && researchScore > 0) {
                finalScore += 1;
            }
            
            return finalScore;
        }

        function calculateSocialScore() {
            const volunteerScore = parseFloat(document.getElementById('volunteerScore').value) || 0;
            const leadershipScore = parseFloat(document.getElementById('leadershipScore').value) || 0;
            
            let finalScore = Math.max(volunteerScore, leadershipScore);
            if (volunteerScore === leadershipScore && volunteerScore > 0) {
                finalScore += 1;
            }
            
            return finalScore;
        }

        function calculateAndDisplayResults() {
            const studentName = document.getElementById('studentName').value || 'Student';
            
            const standardized = calculateStandardizedScore();
            const academic = calculateAcademicScore();
            const extracurricular = calculateExtracurricularScore();
            const sports = parseFloat(document.getElementById('sportsScore').value) || 0;
            const social = calculateSocialScore();
            
            const scores = [standardized.score, academic, extracurricular, sports, social];
            const labels = ['Standardized Tests', 'Academic', 'Extracurriculars', 'Sports', 'Social Activities'];
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'];
            
            // Display results
            document.getElementById('analysisTitle').textContent = `${studentName}'s Pentagon Analysis Graph`;
            
            const totalScore = scores.reduce((sum, score) => sum + score, 0);
            const rating = ((totalScore / 30) * 100).toFixed(2);
            document.getElementById('rating').textContent = `Rating: ${rating}%`;
            
            // Create legend
            const legendElement = document.getElementById('legend');
            legendElement.innerHTML = '';
            scores.forEach((score, index) => {
                const legendItem = document.createElement('div');
                legendItem.className = 'legend-item';
                legendItem.innerHTML = `
                    <div class="legend-color" style="background-color: ${colors[index]}"></div>
                    <span>${labels[index]}: ${score.toFixed(1)}</span>
                `;
                legendElement.appendChild(legendItem);
            });
            
            // Create stats summary
            const summaryElement = document.getElementById('statsSummary');
            summaryElement.innerHTML = '';
            
            const stats = [
                { title: 'Standardized Test', value: standardized.display },
                { title: 'Academic Performance', value: `Academic Score: ${academic.toFixed(1)}` },
                { title: 'Research & Awards', value: `Extracurricular Score: ${extracurricular.toFixed(1)}` },
                { title: 'Sports Achievement', value: `Sports Score: ${sports.toFixed(1)}` },
                { title: 'Social Impact', value: `Social Score: ${social.toFixed(1)}` }
            ];
            
            stats.forEach(stat => {
                const statCard = document.createElement('div');
                statCard.className = 'stat-card';
                statCard.innerHTML = `
                    <div class="stat-title">${stat.title}</div>
                    <div class="stat-value">${stat.value}</div>
                `;
                summaryElement.appendChild(statCard);
            });
            
            // Draw pentagon
            drawPentagon(scores, colors);
            
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function drawPentagon(scores, colors) {
            const canvas = document.getElementById('pentagonCanvas');
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const maxRadius = 150;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw background grid
            for (let level = 1; level <= 6; level++) {
                ctx.beginPath();
                ctx.strokeStyle = '#e0e0e0';
                ctx.lineWidth = 1;
                
                for (let i = 0; i <= 5; i++) {
                    const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                    const radius = (level / 6) * maxRadius;
                    const x = centerX + Math.cos(angle) * radius;
                    const y = centerY + Math.sin(angle) * radius;
                    
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.closePath();
                ctx.stroke();
            }
            
            // Draw axis lines
            ctx.strokeStyle = '#ccc';
            ctx.lineWidth = 1;
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(centerX + Math.cos(angle) * maxRadius, centerY + Math.sin(angle) * maxRadius);
                ctx.stroke();
            }
            
            // Draw data pentagon
            ctx.beginPath();
            ctx.fillStyle = 'rgba(102, 126, 234, 0.2)';
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            
            for (let i = 0; i <= 5; i++) {
                const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                const normalizedScore = Math.min(scores[i % 5], 30) / 6; // Allow going beyond 6
                const radius = normalizedScore * maxRadius;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Draw data points
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                const normalizedScore = Math.min(scores[i], 30) / 6;
                const radius = normalizedScore * maxRadius;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, 2 * Math.PI);
                ctx.fillStyle = colors[i];
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
            
            // Draw labels
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            
            const labels = ['Tests', 'Academic', 'Extracur.', 'Sports', 'Social'];
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                const labelRadius = maxRadius + 25;
                const x = centerX + Math.cos(angle) * labelRadius;
                const y = centerY + Math.sin(angle) * labelRadius;
                
                ctx.fillText(labels[i], x, y + 5);
            }
        }
    </script>
</body>
</html>